<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="Keywords" content="blog"/>
    <meta name="Description" content="blog"/>
    <title>Simple</title>
    <link rel="shortcut icon" href="/static/favicon.png"/>
    <link rel="stylesheet" type="text/css" href="/main.css" />
</head>
<body>
<div class="main">
    <div class="header">
    	<ul id="pages">
            <li><a href="/">home</a></li>
            <li><a href="/#/tags">tags</a></li>
            <li><a href="/#/archive">archive</a></li>
    	</ul>
    </div>
	<div class="wrap-header">
	<h1>
    <a href="/" id="title"></a>
	</h1>
	</div>
<div id="md" style="display: none;">
<!-- markdown -->
#Cryptographic Services Guide
#[Managing Keys,Certificates,and Passwords](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/cryptoservices/KeyManagementAPIs/KeyManagementAPIs.html#//apple_ref/doc/uid/TP40011172-CH11-SW1)
#管理密钥、证书和密码
***
最后一次编辑于2017-02-27
***
钥匙串提供存储密码、加密密钥、证书和其他小的数据片的功能。在应用程序请求去访问钥匙串后也能存储和检索敏感数据，不需用户明确的操作就确信不受信任的应用无法访问钥匙串。  
在OS X中，当应用需要访问钥匙串的时候用户会受到允许的提示；如果钥匙串被锁住，用户需要输入密码去解锁。  
在iOS中，应用仅仅能访问它自己的项目——用户从不会被要求允许或者输入密码。  
访问钥匙串有两个推荐的APIs： 

* 证书、密钥和信任服务
* 钥匙串服务

##证书、密钥和信任服务
`证书、密钥和信任服务`在iOS和 OS X中用一个C API去管理证书、公钥和私钥、对称密钥和信任政策。你可以在你的应用中使用这些服务：

* 创建证书和非对称密钥
* 把证书和密钥添加到钥匙串，从钥匙串移除，和使用密钥去加密和解密数据
* 检索关于证书的信息，例如与证书相关联的私钥，证书的拥有者等待
* 将证书转换为可移植表示
* 创建和操作信任政策并且使用指定的信任规则设置去评估指定证书
* 添加锚点证书  

在OS X中，功能也可用于检索锚点证书和为指定证书设置用户指定的信任政策设置。  
在iOS ，提供额外的功能如下：

* 使用私钥为数据块去生成数字证书
* 使用私钥验证签名
* 使用公钥加密数据块
* 使用私钥解密数据块

证书、密钥和信任服务在证书上的操作符合X.509 ITU标准，操作包括使用钥匙串去存储和检索证书和密钥和使用苹果公司提供的信任政策。  
因为证书使用的是SSL和TLS认证，安全传输API包括在安全连接时用于管理用户证书和根证书的很多函数。  
在OS X用户界面显示证书的内容，你可以使用在安全Objective-C API 的`SFCertificatePanel`和`SFCertificateView`类。此外，`SFCertificatePanel`类显示信任决策和让用户编辑信任决策。


###**钥匙串服务**
在OS X和iOS中，钥匙串服务允许你去创建钥匙串、添加、删除和编辑钥匙串项，并且仅仅在OS X中管理钥匙串的集合。在多数情况，钥匙串感知的应用不能对钥匙串做任何的管理仅仅只能调用一些存储和检索密码的功能。  
默认，iOS的数据备份是以明文存储，例外的是密码和其他秘钥串在备份中保持加密，使用钥匙串去存储密码和其他数据(如缓存)然后用于访问安全网址是如此重要的。否则，如果未认证的人获得对备份数据的访问那这些数据可能被破解。  
阅读`钥匙串服务编程指南`([Keychain Services Programming Guide](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/keychainServConcepts/01introduction/introduction.html#//apple_ref/doc/uid/TP30000897))和`钥匙串服务参考`([Keychain Services Reference](https://developer.apple.com/reference/security/keychain_services))去开始使用钥匙串服务。  
在OS X中，钥匙串访问(Keychain Access)应用提供了钥匙串的用户界面。更多关于该应用的信息请阅读`钥匙串访问`([Keychain Access](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/Security_Overview/EndUserSecurityFeatures/EndUserSecurityFeatures.html#//apple_ref/doc/uid/TP30000976-CH204-CHDIFGGC))和`安全概述`([Security Overview](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/Security_Overview/Introduction/Introduction.html#//apple_ref/doc/uid/TP30000976))。
  

###**学习更多**
关于钥匙串服务存储和检索秘密和证书的更多信息，请阅读`钥匙串服务编程指南`([Keychain Services Programming Guide](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/keychainServConcepts/01introduction/introduction.html#//apple_ref/doc/uid/TP30000897))和`钥匙串服务参考`([Keychain Services Reference](https://developer.apple.com/reference/security/keychain_services))。    
关于安全传输的更多信息，请阅读`安全传输`([Security Transport](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/cryptoservices/SecureNetworkCommunicationAPIs/SecureNetworkCommunicationAPIs.html#//apple_ref/doc/uid/TP40011172-CH13-CHDHDIBB))。
关于证书用户界面API，请阅读在`安全概述`([Security Overview](https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/Security_Overview/Introduction/Introduction.html#//apple_ref/doc/uid/TP30000976))中的安全Objective-C API。

<!-- markdown end -->
</div>
<div class="entry" id="main">
<!-- content -->
<h1 id="cryptographicservicesguide">Cryptographic Services Guide</h1>

<h1 id="managingkeyscertificatesandpasswordshttpsdeveloperapplecomlibraryprereleasecontentdocumentationsecurityconceptualcryptoserviceskeymanagementapiskeymanagementapishtmlapple_refdocuidtp40011172ch11sw1"><a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/cryptoservices/KeyManagementAPIs/KeyManagementAPIs.html#//apple_ref/doc/uid/TP40011172-CH11-SW1">Managing Keys,Certificates,and Passwords</a></h1>

<h1 id="">管理密钥、证书和密码</h1>

<hr>

<p>最后一次编辑于2017-02-27</p>

<hr>

<p>钥匙串提供存储密码、加密密钥、证书和其他小的数据片的功能。在应用程序请求去访问钥匙串后也能存储和检索敏感数据，不需用户明确的操作就确信不受信任的应用无法访问钥匙串。 <br>
在OS X中，当应用需要访问钥匙串的时候用户会受到允许的提示；如果钥匙串被锁住，用户需要输入密码去解锁。 <br>
在iOS中，应用仅仅能访问它自己的项目——用户从不会被要求允许或者输入密码。 <br>
访问钥匙串有两个推荐的APIs： </p>

<ul>
<li>证书、密钥和信任服务</li>
<li>钥匙串服务</li>
</ul>

<h2 id="">证书、密钥和信任服务</h2>

<p><code>证书、密钥和信任服务</code>在iOS和 OS X中用一个C API去管理证书、公钥和私钥、对称密钥和信任政策。你可以在你的应用中使用这些服务：</p>

<ul>
<li>创建证书和非对称密钥</li>
<li>把证书和密钥添加到钥匙串，从钥匙串移除，和使用密钥去加密和解密数据</li>
<li>检索关于证书的信息，例如与证书相关联的私钥，证书的拥有者等待</li>
<li>将证书转换为可移植表示</li>
<li>创建和操作信任政策并且使用指定的信任规则设置去评估指定证书</li>
<li>添加锚点证书  </li>
</ul>

<p>在OS X中，功能也可用于检索锚点证书和为指定证书设置用户指定的信任政策设置。 <br>
在iOS ，提供额外的功能如下：</p>

<ul>
<li>使用私钥为数据块去生成数字证书</li>
<li>使用私钥验证签名</li>
<li>使用公钥加密数据块</li>
<li>使用私钥解密数据块</li>
</ul>

<p>证书、密钥和信任服务在证书上的操作符合X.509 ITU标准，操作包括使用钥匙串去存储和检索证书和密钥和使用苹果公司提供的信任政策。 <br>
因为证书使用的是SSL和TLS认证，安全传输API包括在安全连接时用于管理用户证书和根证书的很多函数。 <br>
在OS X用户界面显示证书的内容，你可以使用在安全Objective-C API 的<code>SFCertificatePanel</code>和<code>SFCertificateView</code>类。此外，<code>SFCertificatePanel</code>类显示信任决策和让用户编辑信任决策。</p>

<h3 id=""><strong>钥匙串服务</strong></h3>

<p>在OS X和iOS中，钥匙串服务允许你去创建钥匙串、添加、删除和编辑钥匙串项，并且仅仅在OS X中管理钥匙串的集合。在多数情况，钥匙串感知的应用不能对钥匙串做任何的管理仅仅只能调用一些存储和检索密码的功能。 <br>
默认，iOS的数据备份是以明文存储，例外的是密码和其他秘钥串在备份中保持加密，使用钥匙串去存储密码和其他数据(如缓存)然后用于访问安全网址是如此重要的。否则，如果未认证的人获得对备份数据的访问那这些数据可能被破解。 <br>
阅读<code>钥匙串服务编程指南</code>(<a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/keychainServConcepts/01introduction/introduction.html#//apple_ref/doc/uid/TP30000897">Keychain Services Programming Guide</a>)和<code>钥匙串服务参考</code>(<a href="https://developer.apple.com/reference/security/keychain_services">Keychain Services Reference</a>)去开始使用钥匙串服务。 <br>
在OS X中，钥匙串访问(Keychain Access)应用提供了钥匙串的用户界面。更多关于该应用的信息请阅读<code>钥匙串访问</code>(<a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/Security_Overview/EndUserSecurityFeatures/EndUserSecurityFeatures.html#//apple_ref/doc/uid/TP30000976-CH204-CHDIFGGC">Keychain Access</a>)和<code>安全概述</code>(<a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/Security_Overview/Introduction/Introduction.html#//apple_ref/doc/uid/TP30000976">Security Overview</a>)。</p>

<h3 id=""><strong>学习更多</strong></h3>

<p>关于钥匙串服务存储和检索秘密和证书的更多信息，请阅读<code>钥匙串服务编程指南</code>(<a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/keychainServConcepts/01introduction/introduction.html#//apple_ref/doc/uid/TP30000897">Keychain Services Programming Guide</a>)和<code>钥匙串服务参考</code>(<a href="https://developer.apple.com/reference/security/keychain_services">Keychain Services Reference</a>)。 <br>
关于安全传输的更多信息，请阅读<code>安全传输</code>(<a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/cryptoservices/SecureNetworkCommunicationAPIs/SecureNetworkCommunicationAPIs.html#//apple_ref/doc/uid/TP40011172-CH13-CHDHDIBB">Security Transport</a>)。
关于证书用户界面API，请阅读在<code>安全概述</code>(<a href="https://developer.apple.com/library/prerelease/content/documentation/Security/Conceptual/Security_Overview/Introduction/Introduction.html#//apple_ref/doc/uid/TP30000976">Security Overview</a>)中的安全Objective-C API。</p>
<!-- content end -->
</div>
<br>
<br>
    <div id="disqus_thread"></div>
	<div class="footer">
		<p>© Copyright 2014 by isnowfy, Designed by isnowfy</p>
	</div>
</div>
<script src="main.js"></script>
<script id="content" type="text/mustache">
    <h1>{{title}}</h1>
    <div class="tag">
    {{date}}
    {{#tags}}
    <a href="/#/tag/{{name}}">#{{name}}</a>
    {{/tags}}
    </div>
</script>
<script id="pagesTemplate" type="text/mustache">
    {{#pages}}
    <li>
        <a href="{{path}}">{{title}}</a>
    </li>
    {{/pages}}
</script>
<script>
$(document).ready(function() {
    $.ajax({
        url: "main.json",
        type: "GET",
        dataType: "json",
        success: function(data) {
            $("#title").html(data.name);
            var pagesTemplate = Hogan.compile($("#pagesTemplate").html());
            var pagesHtml = pagesTemplate.render({"pages": data.pages});
            $("#pages").append(pagesHtml);
            //path
            var path = "密码服务指南:管理密钥、证书和密码.html";
            //path end
            var now = 0;
            for (var i = 0; i < data.posts.length; ++i)
                if (path == data.posts[i].path)
                    now = i;
            var post = data.posts[now];
            var tmp = post.tags.split(" ");
            var tags = [];
            for (var i = 0; i < tmp.length; ++i)
                if (tmp[i].length > 0)
                    tags.push({"name": tmp[i]});
            var contentTemplate = Hogan.compile($("#content").html());
            var contentHtml = contentTemplate.render({"title": post.title, "tags": tags, "date": post.date});
            $("#main").prepend(contentHtml);
            if (data.disqus_shortname.length > 0) {
                var disqus_shortname = data.disqus_shortname;
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            }
        }
    });
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ["\\(", "\\)"]], processEscapes: true}});
</script>
</body>
</html>
